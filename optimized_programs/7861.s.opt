cmp r0, r1
subne r2, r1, r0, lsr 6
subge r2, r0, r1, lsr 7
lsr r0, r3, r3
tst r0, 12
rsb r3, r1, r2, ror 13
orrne r0, r0, r3
rsb r2, r0, r0, lsl 12
