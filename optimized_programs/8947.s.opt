tst r0, 7
mvnne r1, r0
and r2, r1, r0, asr 15
add r2, r2, r1, lsr 12
