add r0, r1, r0, lsr 4
and r0, r1, r0
bfi r1, r0, 0, 4
add r3, r1, 15
