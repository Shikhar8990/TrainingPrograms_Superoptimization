asr r0, r1, 12
tst r0, r2
subeq r0, r3, r3
bicne r0, r2, r0, lsr 12
