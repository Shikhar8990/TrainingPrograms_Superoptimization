tst r0, r1
eorne r2, r0, r2, lsl 6
rsb r0, r2, r0
mvn r2, r0
rsb r0, r2, r2, lsl 7
asr r2, r0, 15
