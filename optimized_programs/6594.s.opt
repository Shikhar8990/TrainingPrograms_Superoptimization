cmp r0, r1
andge r2, r0, r2
bic r2, r2, r3
add r0, r2, r2, asr 9
