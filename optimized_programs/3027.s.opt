cmp r0, 7
rsbne r1, r2, r0, lsl 2
bfi r3, r1, 0, 1
