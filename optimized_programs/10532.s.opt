tst r0, r1
rsbne r0, r0, r1, lsr 10
bfi r1, r0, 2, 1
add r1, r1, 15
