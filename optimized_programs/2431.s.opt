tst r0, r1
rsbne r0, r0, r1, ror 8
rsbcs r0, r2, r1, asr 15
add r1, r0, 6
