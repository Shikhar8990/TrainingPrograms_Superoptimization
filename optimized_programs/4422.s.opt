cmp r0, 15
movcs r1, r0
tst r1, 1
rsbne r2, r1, r2
orr r3, r2, 15
