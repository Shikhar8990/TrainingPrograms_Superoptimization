tst r1, r0
mvnne r0, r2
addne r3, r0, r3
addls r3, r0, r3
rsb r2, r3, r0, lsl 1
