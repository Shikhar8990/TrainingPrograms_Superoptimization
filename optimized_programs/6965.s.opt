tst r0, r1
andne r2, r0, 4
bicls r2, r2, r0
lsl r2, r2, r2
and r2, r2, 15
