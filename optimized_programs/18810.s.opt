tst r0, r1
movge r0, r2, ror 1
movne r0, 31
lsr r3, r0, 1
