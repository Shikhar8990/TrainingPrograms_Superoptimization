mov r1, r2, lsl 3
tst r1, r2
andeq r2, r2, 8
lsr r2, r2, 1
