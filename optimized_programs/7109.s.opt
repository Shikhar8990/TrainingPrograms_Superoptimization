tst r1, r0
orreq r3, r0, r0
bic r1, r3, 13
rsb r2, r1, r3, lsr 14
add r3, r3, r2
