tst r0, r1
orrne r2, r1, r3, ror 12
eoreq r2, r3, r1, lsr 1
bfi r3, r2, 0, 1
lsl r1, r3, 2
