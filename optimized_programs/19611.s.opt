tst r1, r0
movne r1, r0
add r1, r3, r1, lsr 1
