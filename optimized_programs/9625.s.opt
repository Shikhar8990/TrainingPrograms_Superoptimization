tst r0, r1
andne r1, r1, r2
bfi r0, r1, 2, 2
lsr r1, r1, r0
lsr r2, r1, 15
