cmp r0, 3
addlt r1, r2, r2, asr 10
addge r1, r0, r3
and r3, r2, r1, asr 17
