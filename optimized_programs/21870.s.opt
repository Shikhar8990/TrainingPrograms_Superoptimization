cmp r0, 31
orrhi r1, r1, r0, ror 1
and r2, r2, r1
add r0, r2, r2
