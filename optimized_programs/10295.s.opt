cmp r0, 2
mvneq r0, r1
bic r0, r0, 8
mvn r2, r0, ror -1
