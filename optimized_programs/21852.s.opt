tst r0, 31
addne r1, r1, r1
rsb r0, r2, r1, asr 1
