asr r0, r1, r0
add r1, r0, r1, lsl 1
and r2, r2, r1, lsr 4
