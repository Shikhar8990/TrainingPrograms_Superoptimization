cmp r0, r1
movlt r2, r3
movge r2, r0
tst r2, r1
eoreq r2, r2, r1
bfi r0, r0, 7, 2
sub r3, r0, r2, ror 9
rsb r0, r3, 15
