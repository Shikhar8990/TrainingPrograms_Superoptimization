and r3, r2, 7
cmp r3, r2
moveq r0, r1
add r3, r1, r1
lsr r0, r0, r3
