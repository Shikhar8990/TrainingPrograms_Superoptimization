mvn r2, r1
tst r0, r1
mvn r3, r0
mvneq r2, r0
rsb r0, r1, r2, lsl 4
orr r1, r3, r1
add r1, r1, r1
bic r2, r0, 3
add r0, r2, r1, lsl 8
