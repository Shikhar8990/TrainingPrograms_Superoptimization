tst r0, r1
mvneq r0, r2
lsr r3, r0, r2
rsb r1, r3, 4
bfi r2, r1, 0, 3
