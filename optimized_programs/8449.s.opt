tst r0, 6
eorne r1, r2, r0, lsr 2
add r3, r1, r3, ror 6
