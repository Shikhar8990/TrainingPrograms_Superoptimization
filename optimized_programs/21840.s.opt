tst r0, r1
rsbne r2, r3, r2, lsl 1
rsbeq r2, r2, r0, lsl 31
add r0, r1, r2
