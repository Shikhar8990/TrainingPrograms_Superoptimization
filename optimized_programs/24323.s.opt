add r2, r0, r0
tst r3, 1
andeq r1, r3, r2, lsl 31
sub r2, r1, 1
