tst r0, r1
addeq r2, r3, r3
rsb r2, r3, r2, lsr 1
add r3, r2, r3
and r1, r3, r2
