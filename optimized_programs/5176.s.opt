lsl r0, r1, 15
tst r0, r0
subne r0, r0, r1, lsr 9
asr r0, r0, 10
