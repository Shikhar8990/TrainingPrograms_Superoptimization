mov r2, 2
tst r0, r1
movcs r2, r0
and r3, r2, r1
eor r3, r2, r3, lsr 12
