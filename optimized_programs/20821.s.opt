cmp r0, r1
movne r0, r2, asr 31
movcs r0, 1
asr r2, r1, r0
