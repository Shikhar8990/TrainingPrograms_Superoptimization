cmp r0, r1
movlt r2, r3, ror 7
movge r2, r1, lsr 12
bic r3, r2, 10
