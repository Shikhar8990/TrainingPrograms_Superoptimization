tst r1, r0
subge r2, r0, r3
andeq r3, r1, r2, ror 1
add r0, r3, r2
