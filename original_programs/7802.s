tst r0, #4 
moveq r1, r0 
addeq r1, r0, #13 
sub r2, r0, r1, lsr #4 
ror r2, r2, #1 
