cmp r0, r1 
andls r0, r1, r2, asr #12 
andhi r0, r1, r2 
mov r1, r0 
ror r2, r0, r1 
