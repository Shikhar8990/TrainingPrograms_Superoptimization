tst r0, r1 
subne r2, r0, r3, lsl #2 
subeq r2, r1, #5 
mvn r1, r2 
orr r2, r2, r1, ror #8 
